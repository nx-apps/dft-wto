<link rel="import" href="../components/format-number-behavior.html">
<link rel="import" href="../components/page-style.html">
<link rel="import" href="../../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../../bower_components/gl-form/gl-form-input.html">
<link rel="import" href="../../../bower_components/vaadin-grid/vaadin-grid.html">
<link rel="import" href="../../../bower_components/vaadin-grid/vaadin-grid-column.html">
<link rel="import" href="../components/flex-style.html">
<link rel="import" href="../../../bower_components/vaadin-grid/vaadin-grid-sorter.html">
<link rel="import" href="../components/panel-right/panel-right.html">
<link rel="import" href="../../../bower_components/gl-form/gl-form-panel.html">
<link rel="import" href="../../../bower_components/gl-form/gl-form-panel-head.html">
<link rel="import" href="../../../bower_components/gl-form/gl-form-panel-body.html">
<link rel="import" href="../../../bower_components/gl-form/gl-form-panel-footer.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">

<link rel="import" href="../../../bower_components/paper-button/paper-button.html">

<link rel="import" href="../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../bower_components/vaadin-grid/vaadin-grid-column.html">
<link rel="import" href="../../../bower_components/vaadin-grid/vaadin-grid-sorter.html">

<link rel="import" href="../../layout/flexbox-grid.html">

<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../../bower_components/paper-tooltip/paper-tooltip.html">

<link rel="import" href="../components/nylon-date-picker/nylon-date-picker.html">



<dom-module id="panel-detail">
    <style include="page-style flex-style flexbox-grid">
        vaadin-grid {
            height: 100vh;
        }


        vaadin-grid#material .text-center {
            text-align: center;
        }
    </style>
    <template>
        <!-- <panel-right id="pr" title="รายละเอียด"> -->
        <div class="container">
            <gl-form-panel set-padding="10px 20px 10px 20px" set-border="1px">
                <gl-form-panel-head always-float-label label="" set-padding="10px" set-border="1px">
                    <div class="horizontal end-justified layout">
                        <paper-icon-button id="edit" icon="create" raised on-tap="edit"></paper-icon-button>
                        <paper-tooltip for="edit" offset="0">แก้ไข</paper-tooltip>
                    </div>
                </gl-form-panel-head>

                <template is="dom-repeat" items={{detail}}>
                    <gl-form-panel-body label="" set-padding="10px" set-border="1px">

                        <div class="row start-xs">
                            <div class="col-md-3">
                                <gl-form-input always-float-label label="ชนิดข้าว" disabled value="{{item.product_description}}"></gl-form-input>
                            </div>
                            <div class="col-md-3">
                                <gl-form-input always-float-label label="ถิ่นกำเนิด" disabled value="{{item.destination_country}}"></gl-form-input>
                            </div>
                            <div class="col-md-3">
                                <gl-form-input always-float-label label="มูลค่า (บาท)" disabled value="{{item.fob_amt_baht}}"></gl-form-input>
                            </div>
                            <div class="col-md-3">
                                <gl-form-input always-float-label label="ราคา (บาท/ตัน)" disabled value="{{item.destination_country}}"></gl-form-input>
                            </div>
                        </div>

                        <br>
                        <div class="row start-xs">
                            <div class="col-md-3">
                                <gl-form-input always-float-label label="วิธีชำระเงิน" disabled value="{{item.form_name}}"></gl-form-input>
                            </div>
                            <div class="col-md-3">
                                <nylon-date-picker always-float-label label="วันครบอายุหนังสือรับรอง" selected="{{item.expire_date}}" show-bc disabled></nylon-date-picker>
                                <!-- <gl-form-input always-float-label label="วันครบอายุหนังสือรับรอง" disabled value="{{detail.company_name}}"></gl-form-input> -->
                            </div>
                            <div class="col-md-3">
                                <gl-form-input always-float-label label="เลขที่ใบขนส่งสินค้า" disabled="{{btn_disabled}}" value="{{item.reference_code2}}"></gl-form-input>
                            </div>
                            <div class="col-md-3">
                                <nylon-date-picker always-float-label label="วันนำสินค้าเข้า" selected="{{item.dateStart}}" show-bc disabled="{{btn_disabled}}"></nylon-date-picker>
                                <!-- <gl-form-input always-float-label label="วันนำสินค้าเข้า" disabled="{{btn_disabled}}" value="{{detail.reference_code2}}"></gl-form-input> -->
                            </div>
                        </div>


                        <div class="row start-xs">
                            <div class="col-md-3">
                                <nylon-date-picker always-float-label label="วันครบกำหนดรายงาน" selected="{{item.}}" show-bc disabled></nylon-date-picker>
                                <!-- <gl-form-input always-float-label label="วันครบกำหนดรายงาน" disabled value="{{detail.}}"></gl-form-input> -->
                            </div>
                            <div class="col-md-3">
                                <nylon-date-picker always-float-label label="วันที่รายงานจริง" selected="{{item.dateStart}}" show-bc disabled="{{btn_disabled}}"></nylon-date-picker>
                                <!-- <gl-form-input always-float-label label="วันที่รายงานจริง" disabled="{{btn_disabled}}" value="{{detail.}}"></gl-form-input> -->
                            </div>
                            <div class="col-md-3">
                                <gl-form-input always-float-label label="สถานะรายงาน" disabled value="{{item.}}"></gl-form-input>
                            </div>
                        </div>



                    </gl-form-panel-body>
                </template>
                <gl-form-panel-footer always-float-label label="" set-padding="10px ">
                    <paper-button class="gl-btn-danger" on-tap="cancleData" hidden="{{btn_disabled}}">ยกเลิก</paper-button>
                    <paper-button class="gl-btn-success" on-tap="saveData" hidden="{{btn_disabled}}">บันทึก</paper-button>
                </gl-form-panel-footer>


            </gl-form-panel>
        </div>


        <!-- </panel-right> -->
    </template>

    <script>
        Polymer({
            is: 'panel-detail',
            behaviors: [
                ReduxBehavior,
                FormatNumberBehavior,
            ],
            properties: {
                detail: {
                    statePath: 'cert.detail',
                },
                btn_disabled: {
                    type: Boolean,
                    value: true
                },

            },
            edit() {
                this.set('btn_disabled', false)
            },
            cancleData() {
                console.log(1111111111111);
            },
            saveData() {
                console.log(this.detail)
            },
            _openPanelRight(e) {
                // this.$.pr.open();
                // console.log(this.dataSelect)
                // this.dispatchAction('CERT_SELECTED', this.data)
            },
            sumData(data) {
                // console.log(dataList);
                // let net_weight = data.map((item) => item.net_weight).reduce((acc, cur) => acc + cur, 0)
                // let fob_amt_baht = data.map((item) => item.fob_amt_baht).reduce((acc, cur) => acc + cur, 0)
                // this.set('sum.net_weight', net_weight)
                // this.set('sum.fob_amt_baht', fob_amt_baht)
            },
            _closePanelRight() {
                // console.log(this.$.pr)
                this.$.pr.close()
                // this._clearSelectData();
            }

        });
    </script>
</dom-module>