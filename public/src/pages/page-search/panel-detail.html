<link rel="import" href="../components/format-number-behavior.html">
<link rel="import" href="../components/page-style.html">
<link rel="import" href="../../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../../bower_components/gl-form/gl-form-input.html">
<link rel="import" href="../../../bower_components/vaadin-grid/vaadin-grid.html">
<link rel="import" href="../../../bower_components/vaadin-grid/vaadin-grid-column.html">
<link rel="import" href="../components/flex-style.html">
<link rel="import" href="../../../bower_components/vaadin-grid/vaadin-grid-sorter.html">
<link rel="import" href="../components/panel-right/panel-right.html">
<link rel="import" href="../../../bower_components/gl-form/gl-form-panel.html">
<link rel="import" href="../../../bower_components/gl-form/gl-form-panel-head.html">
<link rel="import" href="../../../bower_components/gl-form/gl-form-panel-body.html">
<link rel="import" href="../../../bower_components/gl-form/gl-form-panel-footer.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">

<link rel="import" href="../../../bower_components/paper-button/paper-button.html">

<link rel="import" href="../../../bower_components/polymer/polymer.html">

<link rel="import" href="../../../bower_components/vaadin-grid/vaadin-grid-column.html">
<link rel="import" href="../../../bower_components/vaadin-grid/vaadin-grid-sorter.html">

<link rel="import" href="../../layout/flexbox-grid.html">

<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../../bower_components/paper-tooltip/paper-tooltip.html">



<dom-module id="panel-detail">
    <style include="page-style flex-style flexbox-grid">
        vaadin-grid {
            height: 100vh;
        }
        /* .header {
            text-align: center;
            font-size: 28px;
            margin-bottom: 10px;
            color: #7B7D7D;
        } */

        vaadin-grid#material .text-center {
            text-align: center;
        }
    </style>
    <style is="custom-style">
        .flex-horizontal-with-ratios {
            @apply --layout-horizontal;
        }

        .flexchild {
            @apply --layout-flex;
        }

        .flex2child {
            @apply --layout-flex-2;
        }

        .flex3child {
            @apply --layout-flex-3;
        }
    </style>
    <template>
        <!-- <panel-right id="pr" title="รายละเอียด"> -->
        <div class="container">
            <gl-form-panel set-padding="10px 20px 10px 20px" set-border="1px">
                <gl-form-panel-head label="" set-padding="10px" set-border="1px">
                    <div class="horizontal end-justified layout">
                        <paper-icon-button id="edit" icon="create" raised on-tap="edit"></paper-icon-button>
                        <paper-tooltip for="edit" offset="0">แก้ไข</paper-tooltip>
                    </div>
                </gl-form-panel-head>

                <gl-form-panel-body label="" set-padding="10px" set-border="1px">

                    <!-- <div class="row around-xs">
                        <div class="col-md-3">
                            <paper-input label="เดือน" disabled value="{{detail.}}"></paper-input>
                        </div>
                        <div class="col-md-3">
                            <paper-input label="ปี" disabled value="{{detail.}}"></paper-input>
                        </div>
                        <div class="col-md-3">
                            <paper-input label="แบบฟอร์ม" disabled value="{{detail.}}"></paper-input>
                        </div>
                    </div> -->

                    <br>
                    <div class="row around-xs">
                        <div class="col-md-3">
                            <paper-input label="โควตา (ใน/นอก)" disabled value="{{detail.form_name}}"></paper-input>
                        </div>
                        <div class="col-md-3">
                            <paper-input label="บริษัทผู้นำเข้า" disabled value="{{detail.company_name}}"></paper-input>
                        </div>
                        <div class="col-md-3">
                            <paper-input label="เลขที่หนังสือรับรอง" disabled value="{{detail.reference_code2}}"></paper-input>
                        </div>
                    </div>


                    <!-- <div class="row around-xs">
                        <div class="col-md-3">
                            <paper-input label="วันที่ออกหนังสือ" disabled value="{{detail.}}"></paper-input>
                        </div>
                        <div class="col-md-3">
                            <paper-input label="ชนิดข้าว" disabled value="{{detail.}}"></paper-input>
                        </div>
                        <div class="col-md-3">
                            <paper-input label="ถิ่นกำเนิด" disabled value="{{detail.}}"></paper-input>
                        </div>
                    </div> -->

                    <div class="row around-xs">
                        <div class="col-md-3">
                            <paper-input label="ปริมาณ (ตัน)" disabled value="{{detail.net_weight}}"></paper-input>
                        </div>
                        <div class="col-md-3">
                            <paper-input label="มูลค่า (บาท)" disabled value="{{detail.fob_amt_baht}}"></paper-input>
                        </div>
                        <div class="col-md-3">
                            <paper-input label="ราคา (บาท/ตัน)" disabled value="{{detail.}}"></paper-input>
                        </div>
                    </div>

                    <!-- <div class="row around-xs">
                        <div class="col-md-3">
                            <paper-input label="วิธีชำระเงิน" disabled value="{{detail.}}"></paper-input>
                        </div>
                        <div class="col-md-3">
                            <paper-input label="วันครบอายุหนังสือรับรอง" disabled value="{{detail.}}"></paper-input>
                        </div>
                        <div class="col-md-3">
                            <paper-input label="วันครบกำหนดรายงาน " disabled value="{{detail.}} "></paper-input>
                        </div>
                    </div> -->

                    <div class="row around-xs ">
                        <div class="col-md-3 ">
                            <paper-input label="เลขที่ใบขนส่งสิ้นค้า" disabled="{{btn_disabled}}" value="{{detail.}} "></paper-input>
                        </div>
                        <div class="col-md-3 ">
                            <paper-input label="วันนำสิ้นค้าเข้า " disabled="{{btn_disabled}}" value="{{detail.}} "></paper-input>
                        </div>
                        <div class="col-md-3 ">
                            <paper-input label="วันที่รายงานจริง " disabled="{{btn_disabled}}" value="{{detail.}} "></paper-input>
                        </div>
                    </div>

                    <div class="row around-xs ">
                        <div class="col-md-3 ">
                            <paper-input label="สถานะรายงาน " disabled value="{{detail.}} "></paper-input>
                        </div>
                        <div class="col-md-3 ">
                            <div class="box ">

                                <!-- <paper-input label="[[detail.]] "></paper-input> -->
                            </div>
                        </div>
                        <div class="col-md-3 ">
                            <div class="box ">

                                <!-- <paper-input label="[[detail.]] "></paper-input> -->
                            </div>
                        </div>
                    </div>


                </gl-form-panel-body>
                <gl-form-panel-footer label=" " set-padding="10px ">
                    <paper-button class="gl-btn-danger " on-tap="cancleData " hidden="{{btn_disabled}}">ยกเลิก</paper-button>
                    <paper-button class="gl-btn-success " on-tap="saveData " hidden="{{btn_disabled}}">บันทึก</paper-button>
                </gl-form-panel-footer>


            </gl-form-panel>
        </div>


        <!-- </panel-right> -->
    </template>

    <script>
        Polymer({
            is: 'panel-detail',
            behaviors: [
                ReduxBehavior,
                FormatNumberBehavior,
            ],
            properties: {
                detail: {
                    statePath: 'cert.detail',
                },
                btn_disabled: {
                    type: Boolean,
                    value: true
                },

            },
            edit() {
                this.set('btn_disabled', false)
            },
            cancleData() {

            },
            saveData() {
                console.log(this.detail)
            },
            _openPanelRight(e) {
                // this.$.pr.open();
                // console.log(this.dataSelect)
                // this.dispatchAction('CERT_SELECTED', this.data)
            },
            sumData(data) {
                // console.log(dataList);
                let net_weight = data.map((item) => item.net_weight).reduce((acc, cur) => acc + cur, 0)
                let fob_amt_baht = data.map((item) => item.fob_amt_baht).reduce((acc, cur) => acc + cur, 0)
                this.set('sum.net_weight', net_weight)
                this.set('sum.fob_amt_baht', fob_amt_baht)
            },
            _closePanelRight() {
                // console.log(this.$.pr)
                this.$.pr.close()
                // this._clearSelectData();
            }

        });
    </script>
</dom-module>