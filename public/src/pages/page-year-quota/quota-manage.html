<dom-module id="quota-manage">
    <template>
        <style include="page-style">
            .question{
                margin-top: 8px;
                text-align: right;
                font-size: 20px;
            }
            paper-radio-button{
                --paper-radio-button-size:22px;
            }
            gl-form-input{
                --paper-input-container-label:{
                    font-size: 12px;
                    font-weight:normal;
                }
            }
            .flex-end-justified {
                @apply(--layout-horizontal);
                @apply(--layout-end-justified);
            }
            .flex-horizontal-with-ratios {
                @apply(--layout-horizontal);
            }
            .flexchild {
                @apply(--layout-flex);
            }
            .flex2child {
                @apply(--layout-flex-2);
            }
            .flex3child {
                @apply(--layout-flex-3);
            }
            .flex4child {
                @apply(--layout-flex-4);
            }
            .hideBorder{
                border-bottom: 2px solid white;
            }
        </style>
        <div class="container">
            <paper-material elevation="1">
                <table class="gl-table-default">
                    <thead>
                        <tr class="hideBorder">
                            <th style="width:30%;text-align: right; font-size: 18px;">ปี</th>
                            [[changeString2Num(select.*,'year')]]
                            <th><gl-form-input no-label-float value="{{select.year}}"></gl-form-input></th>
                            <th></th>
                        </tr>
                        <tr>
                            <th style="width:30%;text-align: right; font-size: 18px;">ปริมาณข้าว</th>
                            [[changeString2Num(select.*,'quality')]]
                            <th><gl-form-input no-label-float value="{{select.quality}}"></gl-form-input></th>
                             <th style="width:20%;">
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                    <template is="dom-repeat" items="[[select.period]]">
                      <tr class="hideBorder">
                        <th style="width:30%;text-align: right; font-size: 18px;">งวดที่ [[item.no]]</th>
                        [[changeString2Num(item.*,'quality')]]
                        <th><gl-form-input no-label-float value="{{item.quality}}"></gl-form-input></th>
                        <th></th>
                      </tr>
                    </template>
                    </tbody>
                </table>
            </paper-materia>
        </div>

    </template>
    <script>
        Polymer({
            is: 'quota-manage',
            properties:{
                select:{
                    notify:true
                }
            },
            changeString2Num: function (ob, param) {
                //console.log(typeof ob.value);
                if(typeof ob.value == "string"){
                //   console.log(numeral().unformat(ob.value));
                  var pathChange = ob.path.split(".");
                  if(pathChange.length == 2){
                      if(pathChange[1]==param){
                        ob.base[param]=parseFloat(ob.value);
                        // console.log(typeof ob.value);
                      }
                  }
                }
            }
        });
    </script>
</dom-module>
